# Эмулятор оболочки UNIX-подобной ОС

## Библиотеки, не входящие в стандартную библиотеку Python

- **yaml**: Модуль из внешней библиотеки `PyYAML`, используемый для работы с конфигурационными файлами формата YAML.
- **psutil**: Внешняя библиотека для получения системной информации, включая время работы системы (uptime).

---

## 1. Общее описание

Данный проект представляет собой **эмулятор языка оболочки операционной системы**, работающий в режиме командной строки (CLI). Он предназначен для имитации работы shell в UNIX-подобной ОС, предоставляя пользователю возможность выполнять команды в рамках виртуальной файловой системы, представленной в виде tar-архива.

**Особенности:**
- Поддержка основных команд оболочки: `ls`, `cd`, `exit`.
- Дополнительные команды: `chown`, `date`, `uptime`.
- Виртуальная файловая система не требует предварительного распаковки архива.
- Логирование действий пользователя с фиксацией времени в формате JSON.

---

## 2. Описание всех функций и настроек

### Основные компоненты

- **`emulator.py`**: Главный скрипт эмулятора, реализующий весь функционал.
- **`config.yaml`**: Конфигурационный файл в формате YAML.
- **`log.json`**: Лог-файл в формате JSON, содержащий записи всех действий пользователя.

---

### Функции

#### Загрузка конфигурации

```python
def load_config():
    with open('config.yaml', 'r') as file:
        return yaml.safe_load(file)
```


#### Логирование действий

```python
def log_action(action, log_path):
    timestamp = datetime.datetime.now().isoformat()
    log_entry = {"timestamp": timestamp, "action": action}

    if os.path.exists(log_path):
        with open(log_path, 'r') as logfile:
            try:
                log_data = json.load(logfile)
            except json.JSONDecodeError:
                log_data = []
    else:
        log_data = []

    log_data.append(log_entry)

    with open(log_path, 'w') as logfile:
        json.dump(log_data, logfile, indent=4)

```

